(function(){'use strict';function e(e){return(e||'').toString()}function t(t){if(!t)return null;var n=/(?:\$|S\/\.|USD\s*)?\s?[\d\.,]{2,}/g,r=t.match(n);if(!r)return null;for(var o=0;o<r.length;o++)if(r[o].length>2)return r[o].trim();return r[0]}function n(){var n=document.querySelectorAll(".post-card");Array.prototype.forEach.call(n,function(n){if(n.dataset.mlDone)return;var r=n.querySelector(".snippet"),o=n.querySelector(".price-badge"),i=n.querySelector(".offer-badge"),c=r?r.innerText||r.textContent:"";if(!c){var a=n.querySelector(".post-meta-info .meta-snippet");if(a)c=a.innerText||a.textContent}var u=t(c);o.textContent=u?u:"Consultar";if(u)try{o.setAttribute("data-price",u)}catch(e){}var s=/oferta|promo|descuento|rebaja/i.test(c)||Array.prototype.some.call(n.querySelectorAll(".post-tags .tag"),function(e){return/oferta|promo|descuento/i.test(e.textContent)});i&&(i.style.display=s?"block":"none");var l=(4.9+Math.random()*.09).toFixed(1),p='â˜…'.repeat(5)+" <span style=\"font-weight:700;margin-left:6px;\">"+l+"</span>",d=n.querySelector(".post-top");if(d&&!n.querySelector(".stars-inline")){var m=document.createElement("div");m.className="stars-inline stars";m.innerHTML=p;d.appendChild(m)}n.dataset.mlDone="1"})}function r(){var e=document.querySelectorAll('img[expr\\:src], img[data-src]');Array.prototype.forEach.call(e,function(e){if(e.dataset.lazyDone)return;e.setAttribute("loading","lazy");e.dataset.lazyDone="1"})}function o(e,t){var n;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}}function i(){n(),r();var e=document.querySelector("#ml-home");if(e&&window.MutationObserver){var t=new MutationObserver(function(){setTimeout(n,120)});t.observe(e,{childList:!0,subtree:!0})}}if("loading"===document.readyState)document.addEventListener("DOMContentLoaded",function(){if(window.requestIdleCallback)requestIdleCallback(i,{timeout:400});else setTimeout(i,120)});else{if(window.requestIdleCallback)requestIdleCallback(i,{timeout:400});else setTimeout(i,120)}window.mlCore={refresh:o(function(){try{i()}catch(e){console.warn("mlCore.refresh err",e)}},160)};})();